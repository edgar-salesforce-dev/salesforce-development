<template>
    <template lwc:if={isLoading}>
        <lightning-spinner alternative-text="Loading" size="large" variant="brand"></lightning-spinner>
    </template>
    <c-custom-card show-title icon-name="standard:case" variant="slds-theme_shade">
        <span slot="title">Case Manager ({data.length})</span>
        <div slot="actions">
            <lightning-button variant="brand" label="New Case" onclick={handleCreateCase}></lightning-button>
        </div>
        <section slot="body">
            <template lwc:if={isData}>
                <c-custom-datatable key-field="Id" data={data} columns={columns} hide-checkbox-column show-row-number-columns
                    onnavigate={handleNavigateRecord} draft-values={draftValues} oncellchange={handleCellChange} oncancel={handleCancel} onsave={handleSave}></c-custom-datatable>
            </template>
            <template lwc:elseif={isError}>
                <article class="slds-box slds-align_absolute-center">
                    <p>{errorMessage}</p>
                </article>
            </template>
        </section>
    </c-custom-card>
</template>